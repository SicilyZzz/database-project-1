<html>
<title>Show restaurant details</title>
<!-- also want this page to show reviews -->
<head>
  <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
  <style>
    body{ 
      font-size: 15pt;
      font-family: arial;
    }
  </style>


<body>
  <!-- Menu -->
  <ul class="nav nav-pills">
    <li role="presentation" ><a href="/">Home</a></li>
    <li role="presentation" class="active"><a href="search_restaurants">Search Restaurants</a></li>
    {% if not session.logged_in %}
      <li role="presentation"><a href="login_page">Login</a></li>
      <li role="presentation"><a href="register_page">Register</a></li>
    {% else %}
      <li role="presentation"><a href="logout_act">Logout</a></li>
    {% endif %}
  </ul>

  <h1>Show restaurant details</h1>
  <!-- Greetings -->
  <p>Hello <span id="username">{{ username }}</span></p>
  


<p>Results:</p>

  {% if data != None %}
    <div>{{data}}</div>
    <!-- show restaurant details -->
    <table class="table">
      <thead>
        <tr>
          <th scope="col">rid</th>
          <!-- <th scope="col">name</th>
          <th scope="col">noiselevel</th> -->
          <!-- <th scope="col">Handle</th> -->
        </tr>
      </thead>
      <tbody>
        
        {% for n in data %}
        <tr>
          <th scope="row">{{n.rid}}</th>
          <!-- <td>{{n.r_name}}</td>
          <td>{{n.noiselevel}}</td> -->
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}
{% if not session.logged_in %}
<p>Login to write a review</p>
{% else %}
<p>Write a review:</p>
<div class="form-group">
  <form action="/write_review_act" method="post">
    <input type="hidden" value="{{rid}}" name="rid">
    <textarea class="form-control" rows="5" name="review_text"></textarea>
    <div>rating:</div>
    <select name="rating">
      <option value="5" selected>5</option>
      <option value="4">4</option>
      <option value="3">3</option>
      <option value="2">2</option>
      <option value="1">1</option>
    </select>
    <button type="submit" class="btn btn-default">Submit</button>
  </form>
</div>
{% endif %}
<p>Reviews:</p>
<table class="table">
  <thead>
    <tr>
      <th scope="col">review_id</th> 
      <th scope="col">rating</th>
      <th scope="col">plaintext</th>
      <th scope="col">useful</th>
      <th scope="col">funny</th>
      <th scope="col">cool</th>
      <th scope="col">date</th>
      <th scope="col">uid</th>
      <th scope="col">username</th>
      <th scope="col">rid</th>
      <!-- <th scope="col">Handle</th> -->
    </tr>
  </thead>
  <tbody>
    
    {% for n in reviews %}
    <tr>
      <th scope="row">{{n.review_id}}</th>
      <td>{{n.rating}}</td>
      <td>{{n.plaintext}}</td>
      <td>{{n.useful}}</td>
      <td>{{n.funny}}</td>
      <td>{{n.cool}}</td>
      <td>{{n.date}}</td>
      <td>{{n.uid}}</td>
      <td>{{n.u_name}}
        <button type="button" class="btn">
        <!-- TODO:  -->
        <!-- not friend -->
        <span class="glyphicon glyphicon-star-empty" aria-hidden="true"></span>
        <!-- friend -->
        <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
        </button> </td>
      <td>{{n.rid}}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>


<span style="position:absolute; bottom:0; right:0;"><a href="http://glyphicons.com/">Glyphicons</a></span>
</body>


</html>
